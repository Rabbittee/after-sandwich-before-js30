(function(t){function e(e){for(var n,o,l=e[0],i=e[1],u=e[2],p=0,f=[];p<l.length;p++)o=l[p],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&f.push(r[o][0]),r[o]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n]);c&&c(e);while(f.length)f.shift()();return s.push.apply(s,u||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,l=1;l<a.length;l++){var i=a[l];0!==r[i]&&(n=!1)}n&&(s.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},r={app:0},s=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/after-sandwich-before-js30/kevin/dist/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var c=i;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"py-4"},[a("ul",{staticClass:"container space-y-8"},[a("li",{staticClass:"space-y-2"},[a("h2",{staticClass:"font-bold text-xl"},[t._v("第一題")]),a("Card",[a("Lowest-temp")],1)],1),a("li",{staticClass:"space-y-2"},[a("h2",{staticClass:"font-bold text-xl"},[t._v("第二題")]),a("Card",[a("LowTempByElev")],1)],1),a("li",{staticClass:"space-y-2"},[a("h2",{staticClass:"font-bold text-xl"},[t._v("第三題")]),a("Card",[a("Rain")],1)],1),a("li",{staticClass:"space-y-2"},[a("h2",{staticClass:"font-bold text-xl"},[t._v("第四題")]),a("Card",[a("WeeklyWeather")],1)],1)])])},s=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-gray-900"},[t.data&&200===t.status?a("div",{staticClass:"flex flex-wrap gap-x-10 gap-y-2"},[a("div",{staticClass:"flex justify-between w-full"},[a("h2",{staticClass:"text-gray-900 font-bold text-xs"},[t._v("最低溫觀測站")]),a("p",{staticClass:"text-xs text-gray-400"},[t._v(t._s(t.lowestLocation.time))])]),a("div",{staticClass:"self-end"},[a("div",{staticClass:"flex gap-2"},[a("p",{staticClass:"text-5xl font-bold"},[t._v(t._s(t.lowestLocation.temperature))]),a("span",{staticClass:"self-end"},[t._v("°C")])])]),a("div",{staticClass:"space-y-1 self-end"},[a("p",{staticClass:"text-xs text-gray-700"},[t._v(" 經緯 "+t._s(t.lowestLocation.latLon.lat)+", "+t._s(t.lowestLocation.latLon.lon)+" ")]),a("h2",{staticClass:"font-bold text-xl"},[a("span",[t._v(t._s(t.lowestLocation.location.city))]),a("span",[t._v(t._s(t.lowestLocation.location.town))]),a("span",[t._v(t._s(t.lowestLocation.location.name))])])])]):a("div",[a("p",[t._v("Loading...")])])])},l=[],i=a("1da1"),u=(a("96cf"),a("5530")),c=a("3835"),p=a("2909"),f=(a("d81d"),a("a9e3"),a("d3b7"),a("b64b"),a("99af"),a("4e82"),a("4fad"),a("7db0"),a("bc3a")),m=a.n(f),v=m.a.create({baseURL:"https://opendata.cwb.gov.tw/api/v1/rest/datastore/"}),d="CWB-A00AAFC4-FFD9-4A03-A760-7F9336CE62FC",x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{params:Object(u["a"])({Authorization:d},t)}},h=function(t,e){return t.find((function(t){return t.elementName===e})).elementValue},g=function(t,e){return t.find((function(t){return t.elementName===e})).time},_=function(t,e){return t.find((function(t){return t.parameterName===e})).parameterValue},w=function(t){return-99===Number(t)?null:t},b={getElementValueByKey:h,getParameterValueByKey:_,getTimeByKey:g,dealAvailableValue:w},y=[{text:"臺北市",value:"臺北市"},{text:"新北市",value:"新北市"},{text:"桃園市",value:"桃園市"},{text:"宜蘭縣",value:"宜蘭縣"},{text:"花蓮縣",value:"花蓮縣"},{text:"澎湖縣",value:"澎湖縣"},{text:"臺東縣",value:"臺東縣"},{text:"金門縣",value:"金門縣"},{text:"連江縣",value:"連江縣"},{text:"臺中市",value:"臺中市"},{text:"臺南市",value:"臺南市"},{text:"高雄市",value:"高雄市"},{text:"基隆市",value:"基隆市"},{text:"新竹縣",value:"新竹縣"},{text:"新竹市",value:"新竹市"},{text:"苗栗縣",value:"苗栗縣"},{text:"彰化縣",value:"彰化縣"},{text:"南投縣",value:"南投縣"},{text:"雲林縣",value:"雲林縣"},{text:"嘉義縣",value:"嘉義縣"},{text:"嘉義市",value:"嘉義市"},{text:"屏東縣",value:"屏東縣"}];function C(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return v.get("/O-A0001-001",x(t))}function L(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return v.get("/O-A0002-001",x(t))}function T(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return v.get("/F-D0047-091",x(t))}var O=b.getElementValueByKey,E=b.getParameterValueByKey;function j(){return N.apply(this,arguments)}function N(){return N=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a,n,r,s,o,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,C({elementName:"TEMP,ELEV"});case 2:return e=t.sent,a=e.data,n=e.status,r=a.records.location.map((function(t){var e=Number(O(t.weatherElement,"TEMP")),a=Number(O(t.weatherElement,"ELEV"));return{latLon:{lat:t.lat,lon:t.lon},location:{name:t.locationName,city:E(t.parameter,"CITY"),town:E(t.parameter,"TOWN")},time:t.time&&t.time.obsTime,temperature:e,locationElev:a}})),s=r.reduce((function(t,e){var a=e.temperature;return 0===Object.keys(t).length?e:-99===Number(a)||Number(a)>Number(t.temperature)?t:e}),{}),o=r.reduce((function(t,e){var a=e.temperature,n=e.locationElev,r=500*Math.floor(n/500);if(isNaN(a)||isNaN(n))return t;if(-99===e.temperature)return t;if(void 0===t[r])return t[r]=e,t;var s=t[r].temperature;return s>a?t[r]=e:s===a&&(t[r].sameTemp=void 0===t[r].sameTemp?[t[r],e]:[].concat(Object(p["a"])(t[r].sameTemp),[e])),t}),{}),l=Object.entries(o).map((function(t){var e=Object(c["a"])(t,2),a=e[0],n=e[1];return Object(u["a"])(Object(u["a"])({},n),{},{elev:a})})).sort((function(t,e){return t.elev-e.elev})),t.abrupt("return",{data:a,status:n,lowestLocation:s,lowestLocationByElev:o,sortedLowestLocationByElev:l});case 10:case"end":return t.stop()}}),t)}))),N.apply(this,arguments)}var R={name:"Lowest-Temp",data:function(){return{data:null,status:null,lowestLocation:null}},mounted:function(){this.getTemperature()},methods:{getTemperature:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,n,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new j;case 2:a=e.sent,n=a.data,r=a.status,s=a.lowestLocation,t.data=n,t.status=r,t.lowestLocation=s,console.log("第一題 目前最低溫:",s);case 10:case"end":return e.stop()}}),e)})))()}}},k=R,B=a("2877"),M=Object(B["a"])(k,o,l,!1,null,null,null),V=M.exports,D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-gray-900"},[t.sortedLowestLocationByElev&&200===t.status?a("ul",{staticClass:"space-y-4"},[t._l(t.sortedLowestLocationByElev,(function(e,n){return[a("li",{key:"sorted-location-with-elev-"+n,staticClass:"flex flex-wrap gap-y-2"},[a("h3",{staticClass:"w-full text-xs font-bold"},[t._v(" "+t._s(e.elev)+" ~ "+t._s(Number(e.elev)+499)+" 公尺 ")]),a("p",{staticClass:"w-36 flex gap-2"},[a("span",{staticClass:"text-5xl font-bold"},[t._v(" "+t._s(e.temperature)+" ")]),a("span",{staticClass:"text-sm self-end"},[t._v("°C")])]),a("div",{staticClass:"flex flex-col justify-between"},[a("p",{staticClass:"text-sm text-gray-700"},[t._v(t._s(e.locationElev)+" 公尺")]),a("p",{staticClass:"font-bold text-xl"},[t._v(" "+t._s(e.location.city)+" "+t._s(e.location.town)+" "+t._s(e.location.name)+" ")])])])]}))],2):t._e()])},P=[],A={name:"LowTempByElev",data:function(){return{sortedLowestLocationByElev:null,status:null}},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.getData();case 1:case"end":return e.stop()}}),e)})))()},methods:{getData:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,n,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new j;case 2:a=e.sent,n=a.lowestLocationByElev,r=a.sortedLowestLocationByElev,s=a.status,t.sortedLowestLocationByElev=r,t.status=s,console.log("第二題 目前每 500 公尺海拔的最低溫區域: ",n);case 9:case"end":return e.stop()}}),e)})))()}}},W=A,K=Object(B["a"])(W,D,P,!1,null,null,null),$=K.exports,F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-gray-900 space-y-4"},[t.top20_rain&&200===t.status?t._l(t.top20_rain,(function(e,n){return a("div",{key:"rain-"+n},[a("div",{staticClass:"flex flex-wrap gap-x-10 gap-y-2"},[a("div",{staticClass:"flex justify-between w-full"},[a("h2",{staticClass:"text-gray-900 font-bold text-xs"},[t._v("降雨量第 "+t._s(n+1)+" 名")]),a("p",{staticClass:"text-xs text-gray-400"},[t._v(t._s(e.time))])]),a("div",{staticClass:"self-end w-52"},[a("div",{staticClass:"flex gap-2"},[a("p",{staticClass:"text-5xl font-bold"},[t._v(t._s(e.hour_24))]),a("span",{staticClass:"self-end"},[t._v("mm")])])]),a("div",{staticClass:"space-y-1 self-end"},[a("p",{staticClass:"text-xs text-gray-700"},[t._v("經緯 "+t._s(e.latLon.lat)+", "+t._s(e.latLon.lon))]),a("h2",{staticClass:"font-bold text-xl"},[a("span",[t._v(t._s(e.location.city))]),a("span",[t._v(t._s(e.location.town))]),a("span",[t._v(t._s(e.location.name))])])])])])})):a("div",[a("p",[t._v("Loading...")])])],2)},S=[],I=a("d4ec"),U=a("bee2"),Y=(a("fb6a"),a("4de4"),b.getElementValueByKey),H=b.getParameterValueByKey,J=function(){function t(){var e=this;return Object(I["a"])(this,t),Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,L({elementName:"HOUR_24",parameterName:"CITY,TOWN"});case 2:return e.apiResponse=t.sent,e.status=e.apiResponse.status,e.data=e.apiResponse.data,t.abrupt("return",e);case 6:case"end":return t.stop()}}),t)})))()}return Object(U["a"])(t,[{key:"top20_rain",get:function(){if(200!==this.status)return null;var t=this.data.records.location.map((function(t){return{latLon:{lat:t.lat,lon:t.lon},location:{city:H(t.parameter,"CITY"),town:H(t.parameter,"TOWN"),name:t.locationName},time:t.time&&t.time.obsTime,hour_24:Y(t.weatherElement,"HOUR_24")}})).filter((function(t){return Number(t.hour_24)>=0})).sort((function(t,e){return Number(e.hour_24)-Number(t.hour_24)})).slice(0,20);return t}}]),t}(),z={name:"Rain",data:function(){return{status:null,top20_rain:null}},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.getData();case 1:case"end":return e.stop()}}),e)})))()},methods:{getData:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new J;case 2:a=e.sent,n=a.status,r=a.top20_rain,t.status=n,t.top20_rain=r,console.log("第三題 近 24 小時前 20 名降雨量:",r);case 8:case"end":return e.stop()}}),e)})))()}}},q=z,G=Object(B["a"])(q,F,S,!1,null,null,null),Q=G.exports,X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[200===t.status?a("div",{staticClass:"space-y-4"},[a("div",{staticClass:"flex gap-4 items-center w-full"},[t.locationOptions?a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.selectedLocation,expression:"form.selectedLocation"}],staticClass:"px-4 py-2 cursor-pointer rounded-lg w-full",attrs:{name:"location",id:"location"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"selectedLocation",e.target.multiple?a:a[0])},t.onChangeLocation]}},[a("option",{attrs:{value:"",disabled:""}},[t._v("選啦！選啦！")]),t._l(t.locationOptions,(function(e,n){return a("option",{key:"location-option-"+n,domProps:{value:e.value}},[t._v(" "+t._s(e.text)+" ")])}))],2):t._e()]),t.result?[a("h3",{staticClass:"font-bold"},[t._v("未來一周溫度預測")]),a("div",{staticClass:"flex gap-8"},[a("div",[a("h4",{staticClass:"text-sm"},[t._v("最高溫")]),a("p",{staticClass:"text-5xl font-bold"},[t._v(" "+t._s(t.result.highestTemp)+" "),a("span",{staticClass:"text-sm self-end"},[t._v("°C")])])]),a("div",[a("h4",{staticClass:"text-sm"},[t._v("最低溫")]),a("p",{staticClass:"text-5xl font-bold"},[t._v(" "+t._s(t.result.lowestTemp)+" "),a("span",{staticClass:"text-sm self-end"},[t._v("°C")])])]),a("div",[a("h4",{staticClass:"text-sm"},[t._v("單日最大溫差")]),a("p",{staticClass:"text-5xl font-bold"},[t._v(" "+t._s(t.result.maxDiff.temp.diff)+" "),a("span",{staticClass:"text-sm self-end"},[t._v("°C")])])])])]:t._e()],2):t._e()])},Z=[];function tt(){return et.apply(this,arguments)}function et(){return et=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a,n,r,s,o,l,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,T({elementName:"MinT,MaxT"});case 2:return e=t.sent,a=e.data,n=e.status,r=a.records.locations[0].location,s=b.getTimeByKey,o=b.dealAvailableValue,l=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"highest",a=r.find((function(e){return e.locationName===t})),n={highest:"MaxT",lowest:"MinT"},o=s(a.weatherElement,n[e]);return o.reduce((function(t,e){if(void 0===t.elementValue)return e;var a=t.elementValue[0].value,n=e.elementValue[0].value;return a>n?e:t}),{}).elementValue[0].value},i=function(t){var e=r.find((function(e){return e.locationName===t})),a=s(e.weatherElement,"MaxT"),n=s(e.weatherElement,"MinT");return a.map((function(t,e){var a=o(t.elementValue[0].value),r=o(n[e].elementValue[0].value);return{startTime:t.startTime,endTime:t.endTime,temp:{max:a,min:r,diff:null!==a&&null!==r?Number(a)-Number(r):null}}})).reduce((function(t,e){if(0===Object.keys(t).length)return e;var a=t.temp.diff,n=e.temp.diff;return null===a||n>a?e:t}),{})},t.abrupt("return",{locations:r,status:n,allLocations:y,getLocationTempExtreme:l,getLocationTempMaxDiff:i});case 10:case"end":return t.stop()}}),t)}))),et.apply(this,arguments)}var at={name:"WeeklyWeather",data:function(){return{locationOptions:null,status:null,getLocationTempExtreme:null,getLocationTempMaxDiff:null,form:{selectedLocation:""},result:null}},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.getData();case 1:case"end":return e.stop()}}),e)})))()},methods:{getData:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,n,r,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,tt();case 2:a=e.sent,n=a.getLocationTempExtreme,r=a.getLocationTempMaxDiff,s=a.allLocations,o=a.status,t.getLocationTempExtreme=n,t.getLocationTempMaxDiff=r,t.locationOptions=s,t.status=o,console.log("第四題 要選一下城市");case 12:case"end":return e.stop()}}),e)})))()},onChangeLocation:function(){var t=this.form.selectedLocation,e=this.getLocationTempExtreme(t,"highest"),a=this.getLocationTempExtreme(t,"lowest"),n=this.getLocationTempMaxDiff(t);this.result={highestTemp:e,lowestTemp:a,maxDiff:n},console.log("第四題: 最高溫 ".concat(e," 度 | 最低溫 ").concat(a," 度 | 最大溫差 ").concat(n.temp.diff," 度")),console.log("最大溫差的資料",n)}}},nt=at,rt=Object(B["a"])(nt,X,Z,!1,null,null,null),st=rt.exports,ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bg-gray-100 rounded-2xl shadow-2xl px-6 py-3"},[t._t("default")],2)},lt=[],it={name:"Card"},ut=it,ct=Object(B["a"])(ut,ot,lt,!1,null,null,null),pt=ct.exports,ft={name:"App",components:{Card:pt,LowTempByElev:$,LowestTemp:V,Rain:Q,WeeklyWeather:st}},mt=ft,vt=Object(B["a"])(mt,r,s,!1,null,null,null),dt=vt.exports;a("ba8c");n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(dt)}}).$mount("#app")},ba8c:function(t,e,a){}});
//# sourceMappingURL=app.f691cb67.js.map