(function(t){function e(e){for(var n,o,l=e[0],i=e[1],u=e[2],p=0,f=[];p<l.length;p++)o=l[p],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&f.push(r[o][0]),r[o]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n]);c&&c(e);while(f.length)f.shift()();return s.push.apply(s,u||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,l=1;l<a.length;l++){var i=a[l];0!==r[i]&&(n=!1)}n&&(s.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},r={app:0},s=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/after-sandwich-before-js30/kevin/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var c=i;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"py-4"},[a("ul",{staticClass:"container space-y-8"},[a("li",{staticClass:"space-y-2"},[a("h2",{staticClass:"font-bold text-xl"},[t._v("第一題")]),a("Card",[a("Lowest-temp")],1)],1),a("li",{staticClass:"space-y-2"},[a("h2",{staticClass:"font-bold text-xl"},[t._v("第二題")]),a("Card",[a("LowTempByElev")],1)],1),a("li",{staticClass:"space-y-2"},[a("h2",{staticClass:"font-bold text-xl"},[t._v("第三題")]),a("Card",[a("Rain")],1)],1)])])},s=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-gray-900"},[t.data&&200===t.status?a("div",{staticClass:"flex flex-wrap gap-x-10 gap-y-2"},[a("div",{staticClass:"flex justify-between w-full"},[a("h2",{staticClass:"text-gray-900 font-bold text-xs"},[t._v("最低溫觀測站")]),a("p",{staticClass:"text-xs text-gray-400"},[t._v(t._s(t.lowestLocation.time))])]),a("div",{staticClass:"self-end"},[a("div",{staticClass:"flex gap-2"},[a("p",{staticClass:"text-5xl font-bold"},[t._v(t._s(t.lowestLocation.temperature))]),a("span",{staticClass:"self-end"},[t._v("°C")])])]),a("div",{staticClass:"space-y-1 self-end"},[a("p",{staticClass:"text-xs text-gray-700"},[t._v(" 經緯 "+t._s(t.lowestLocation.latLon.lat)+", "+t._s(t.lowestLocation.latLon.lon)+" ")]),a("h2",{staticClass:"font-bold text-xl"},[a("span",[t._v(t._s(t.lowestLocation.location.city))]),a("span",[t._v(t._s(t.lowestLocation.location.town))]),a("span",[t._v(t._s(t.lowestLocation.location.name))])])])]):a("div",[a("p",[t._v("Loading...")])])])},l=[],i=a("1da1"),u=(a("96cf"),a("d3b7"),a("b64b"),a("a9e3"),a("5530")),c=(a("7db0"),a("bc3a")),p=a.n(c),f=p.a.create({baseURL:"https://opendata.cwb.gov.tw/api/v1/rest/datastore/"}),m="CWB-A00AAFC4-FFD9-4A03-A760-7F9336CE62FC",d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{params:Object(u["a"])({Authorization:m},t)}},v=function(t,e){return t.find((function(t){return t.elementName===e})).elementValue},y=function(t,e){return t.find((function(t){return t.parameterName===e})).parameterValue},h={getElementValueByKey:v,getParameterValueByKey:y};function x(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f.get("/O-A0001-001",d(t))}function b(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f.get("/O-A0002-001",d(t))}var w=h.getElementValueByKey,_=h.getParameterValueByKey;function g(){return C.apply(this,arguments)}function C(){return C=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,x({elementName:"TEMP,ELEV"});case 2:return e=t.sent,a=e.data,n=e.status,r=a.records.location.reduce((function(t,e){var a=w(e.weatherElement,"TEMP");return e={latLon:{lat:e.lat,lon:e.lon},location:{name:e.locationName,city:_(e.parameter,"CITY"),town:_(e.parameter,"TOWN")},time:e.time&&e.time.obsTime,temperature:a},0===Object.keys(t).length?e:void 0===a||-99===Number(a)||Number(a)>Number(t.temperature)?t:e}),{}),t.abrupt("return",{data:a,status:n,lowestLocation:r});case 7:case"end":return t.stop()}}),t)}))),C.apply(this,arguments)}var E={name:"Lowest-Temp",data:function(){return{data:null,status:null,lowestLocation:null}},mounted:function(){this.getTemperature()},methods:{getTemperature:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,n,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new g;case 2:a=e.sent,n=a.data,r=a.status,s=a.lowestLocation,t.data=n,t.status=r,t.lowestLocation=s,console.log("第一題",s);case 10:case"end":return e.stop()}}),e)})))()}}},O=E,j=a("2877"),T=Object(j["a"])(O,o,l,!1,null,null,null),N=T.exports,L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-gray-900"},[t.sortTempByElev?a("ul",{staticClass:"space-y-4"},[t._l(t.sortTempByElev,(function(e){return[a("li",{key:"sorted-location-with-elev-"+e.stationId,staticClass:"flex flex-wrap gap-y-2"},[a("h3",{staticClass:"w-full text-xs font-bold"},[t._v(" "+t._s(e.elev)+" ~ "+t._s(Number(e.elev)+499)+" 公尺 ")]),a("p",{staticClass:"w-36 flex gap-2"},[a("span",{staticClass:"text-5xl font-bold"},[t._v(" "+t._s(t.getElementValueByKey(e.weatherElement,"TEMP"))+" ")]),a("span",{staticClass:"text-sm self-end"},[t._v("°C")])]),a("div",{staticClass:"flex flex-col justify-between"},[a("p",{staticClass:"text-sm text-gray-700"},[t._v(" "+t._s(t.getElementValueByKey(e.weatherElement,"ELEV"))+" 公尺 ")]),a("p",{staticClass:"font-bold text-xl"},[t._v(" "+t._s(t.locationName(e.parameter))+" "+t._s(e.locationName)+" ")])])])]}))],2):t._e()])},B=[],R=a("3835"),P=a("2909"),V=(a("99af"),a("4e82"),a("d81d"),a("4fad"),{name:"LowTempByElev",data:function(){return{weatherData:null}},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.getTempAndElev();case 1:case"end":return e.stop()}}),e)})))()},computed:{tempByElev:function(){var t=this;if(!this.weatherData)return null;var e=function(e,a){return t.getElementValueByKey(e,a)};return this.weatherData.reduce((function(t,a){var n=Number(e(a.weatherElement,"TEMP")),r=Number(e(a.weatherElement,"ELEV"));if(isNaN(n)||isNaN(r))return t;var s=500*Math.floor(r/500);if(-99!==Number(n))if(void 0===t[s])t[s]=a;else{var o=Number(e(t[s].weatherElement,"TEMP"));o>n?t[s]=a:o===n&&(console.log("居然有同溫度的..."),t[s].sameTemp=void 0===t[s].sameTemp?[t[s],a]:[].concat(Object(P["a"])(t[s].sameTemp),[a]))}return t}),{})},sortTempByElev:function(){return this.tempByElev?Object.entries(this.tempByElev).map((function(t){var e=Object(R["a"])(t,2),a=e[0],n=e[1];return Object(u["a"])(Object(u["a"])({},n),{},{elev:a})})).sort((function(t,e){return t.elev-e.elev})):null}},methods:{getTempAndElev:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x({elementName:"TEMP,ELEV"});case 2:return a=e.sent,n=a.data,t.weatherData=n.records.location,e.abrupt("return",n.records.location);case 6:case"end":return e.stop()}}),e)})))()},getElementValueByKey:function(t,e){return Array.isArray(t)?t.find((function(t){return t.elementName===e})).elementValue:null},getParamByKey:function(t,e){return Array.isArray(t)?t.find((function(t){return t.parameterName===e})).parameterValue:null},locationName:function(t){return"".concat(this.getParamByKey(t,"CITY")," ").concat(this.getParamByKey(t,"TOWN"))}}}),k=V,A=Object(j["a"])(k,L,B,!1,null,null,null),K=A.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-gray-900 space-y-4"},[t.top20_rain&&200===t.status?t._l(t.top20_rain,(function(e,n){return a("div",{key:"rain-"+n},[a("div",{staticClass:"flex flex-wrap gap-x-10 gap-y-2"},[a("div",{staticClass:"flex justify-between w-full"},[a("h2",{staticClass:"text-gray-900 font-bold text-xs"},[t._v("降雨量第 "+t._s(n+1)+" 名")]),a("p",{staticClass:"text-xs text-gray-400"},[t._v(t._s(e.time))])]),a("div",{staticClass:"self-end w-52"},[a("div",{staticClass:"flex gap-2"},[a("p",{staticClass:"text-5xl font-bold"},[t._v(t._s(e.hour_24))]),a("span",{staticClass:"self-end"},[t._v("mm")])])]),a("div",{staticClass:"space-y-1 self-end"},[a("p",{staticClass:"text-xs text-gray-700"},[t._v("經緯 "+t._s(e.latLon.lat)+", "+t._s(e.latLon.lon))]),a("h2",{staticClass:"font-bold text-xl"},[a("span",[t._v(t._s(e.location.city))]),a("span",[t._v(t._s(e.location.town))]),a("span",[t._v(t._s(e.location.name))])])])])])})):a("div",[a("p",[t._v("Loading...")])])],2)},D=[],$=a("d4ec"),F=a("bee2"),I=(a("fb6a"),a("4de4"),h.getElementValueByKey),S=h.getParameterValueByKey,W=function(){function t(){var e=this;return Object($["a"])(this,t),Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b({elementName:"HOUR_24",parameterName:"CITY,TOWN"});case 2:return e.apiResponse=t.sent,e.status=e.apiResponse.status,e.data=e.apiResponse.data,t.abrupt("return",e);case 6:case"end":return t.stop()}}),t)})))()}return Object(F["a"])(t,[{key:"top20_rain",get:function(){if(200!==this.status)return null;var t=this.data.records.location.map((function(t){return{latLon:{lat:t.lat,lon:t.lon},location:{city:S(t.parameter,"CITY"),town:S(t.parameter,"TOWN"),name:t.locationName},time:t.time&&t.time.obsTime,hour_24:I(t.weatherElement,"HOUR_24")}})).filter((function(t){return Number(t.hour_24)>=0})).sort((function(t,e){return Number(e.hour_24)-Number(t.hour_24)})).slice(0,20);return t}}]),t}(),Y={name:"Rain",data:function(){return{status:null,top20_rain:null}},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.getData();case 1:case"end":return e.stop()}}),e)})))()},methods:{getData:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new W;case 2:a=e.sent,n=a.status,r=a.top20_rain,t.status=n,t.top20_rain=r,console.log("第三題",r);case 8:case"end":return e.stop()}}),e)})))()}}},U=Y,H=Object(j["a"])(U,M,D,!1,null,null,null),J=H.exports,z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bg-gray-100 rounded-2xl shadow-2xl px-6 py-3"},[t._t("default")],2)},q=[],G={name:"Card"},Q=G,X=Object(j["a"])(Q,z,q,!1,null,null,null),Z=X.exports,tt={name:"App",components:{Card:Z,LowTempByElev:K,LowestTemp:N,Rain:J}},et=tt,at=Object(j["a"])(et,r,s,!1,null,null,null),nt=at.exports;a("ba8c");n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(nt)}}).$mount("#app")},ba8c:function(t,e,a){}});
//# sourceMappingURL=app.8ca7917a.js.map