var I=Object.defineProperty;var C=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var Y=(s,e,o)=>e in s?I(s,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[e]=o,T=(s,e)=>{for(var o in e||(e={}))B.call(e,o)&&Y(s,o,e[o]);if(C)for(var o of C(e))A.call(e,o)&&Y(s,o,e[o]);return s};import{d as v,r as y,t as f,u as i,o as d,c as p,a as b,F as x,b as m,e as D,f as L,g as P,n as q,h as F}from"./vendor.b1f0335f.js";const H=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function o(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerpolicy&&(a.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?a.credentials="include":t.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(t){if(t.ep)return;t.ep=!0;const a=o(t);fetch(t.href,a)}};H();const S="https://opendata.cwb.gov.tw/api/v1/rest/datastore/",W="CWB-3DDB77B5-643B-4E2D-B0AE-4218ADEB7C9F",z={Authorization:W},$=v().add(1,"day").hour(0).minute(0).second(0).format("YYYY-MM-DDTHH:mm:ss"),K=v().add(2,"day").hour(23).minute(59).second(59).format("YYYY-MM-DDTHH:mm:ss");async function E(s,e){const o=T(T({},z),e),n=new URLSearchParams(o);return await fetch(`${S}${s}?${n.toString()}`).then(t=>t.json())}const k=s=>s.filter(e=>e.weatherElement[3].elementValue!=="-99"),M=(s,e,o)=>{const n=_(s[0].weatherElement,e,"weather");return o?s[0].weatherElement[n].time.reduce((c,l)=>Number(c.elementValue[0].value)<Number(l.elementValue[0].value)?c:l):s.reduce((a,r)=>Number(a.weatherElement[n].elementValue)<Number(r.weatherElement[n].elementValue)?a:r)},R=(s,e)=>{const o=_(s[0].weatherElement,e,"weather");return s[0].weatherElement[o].time.reduce((a,r)=>Number(a.elementValue[0].value)>Number(r.elementValue[0].value)?a:r)},N=(s,e,o)=>s==="weather"?e:o,_=(s,e,o)=>s.findIndex(n=>n[N(o,"elementName","parameterName")]===e),V=(s,e,o)=>{const n=N(o,"weatherElement","parameter"),t=N(o,"elementValue","parameterValue"),a=_(s[n],e,o);return s[n][a][t]},O=s=>{const e=V(s,"CITY"),o=V(s,"TOWN"),n=V(s,"TEMP","weather");return{city:e,town:o,temp:n}},U={setup(s){const e=y({data:{}});return E("O-A0001-001").then(o=>{const n=M(k(o.records.location),"TEMP"),{city:t,town:a,temp:r}=O(n),{locationName:c,lat:l,lon:u}=M(k(o.records.location),"TEMP");e.data={city:t,locationName:c,town:a,lat:l,lon:u,temp:r}}),(o,n)=>f(i(e).data)}},G={setup(s){const e=y({data:{}});E("O-A0001-001").then(n=>{const t=_(n.records.location[0].weatherElement,"ELEV","weather"),a=new Map;k(n.records.location).forEach(r=>{const c=parseInt(r.weatherElement[t].elementValue/500);a.get(c)||a.set(c,[]),a.get(c).push(r)});for(const r of a.keys())o(M(a.get(r),"TEMP"),r)});function o(n,t){const{city:a,town:r,temp:c}=O(n),{locationName:l,lat:u,lon:h}=n;e.data[(t+1)*500]={city:a,town:r,temp:c,locationName:l,lat:u,lon:h}}return(n,t)=>(d(!0),p(x,null,b(i(e).data,a=>(d(),p("div",{key:a},f(a),1))),128))}},J={class:"text-2xl"},Q={class:"text-xl"},X={setup(s){const e=y({data:{}});E("O-A0002-001").then(n=>{const t=new Map,a=_(n.records.location[0].weatherElement,"HOUR_24","weather"),r=n.records.location.sort((c,l)=>l.weatherElement[a].elementValue-c.weatherElement[a].elementValue).slice(0,20);r.forEach(c=>{const{city:l,town:u,rain:h,name:g}=o(c,_(r[0].parameter,"CITY"),_(r[0].parameter,"TOWN"),a);t.get(l)?t.get(l).get(u)?t.get(l).get(u).push({name:g,rain:h}):(t.get(l).set(u,[]),t.get(l).get(u).push({name:g,rain:h})):(t.set(l,new Map),t.get(l).set(u,[]),t.get(l).get(u).push({name:g,rain:h}))});for(const c of t.keys()){e.data[c]={};for(const l of t.get(c))e.data[c][l[0]]=l[1]}});function o(n,t,a,r){const c=n.parameter[t].parameterValue,l=n.parameter[a].parameterValue,u=n.weatherElement[r].elementValue,h=n.locationName;return{city:c,town:l,rain:u,name:h}}return(n,t)=>(d(!0),p(x,null,b(i(e).data,(a,r)=>(d(),p(x,{key:r},[m("div",J,f(r),1),(d(!0),p(x,null,b(a,(c,l)=>(d(),p("div",{key:l,class:"ml-24"},[m("div",Q,f(l)+":",1),(d(!0),p(x,null,b(c,u=>(d(),p("div",{key:u.name,class:"flex space-x-10 ml-20"},[m("div",null,f(u.name),1),m("div",null,f(u.rain),1)]))),128))]))),128))],64))),128))}},Z={key:0,class:"flex space-x-10"},j=m("div",null,"\u6700\u9AD8\u6EAB:",-1),ee={key:1,class:"flex space-x-10"},te=m("div",null,"\u6700\u4F4E\u6EAB:",-1),ae={key:2,class:"flex space-x-10"},ne=m("div",null,"\u55AE\u65E5\u6EAB\u5DEE\u6700\u5927:",-1),oe={setup(s){const e=y({data:{}});E("F-D0047-089",{locationName:"\u9AD8\u96C4\u5E02",sort:"time",timeFrom:$,timeTo:K}).then(n=>{const t=n.records.locations[0].location,a=M(t,"T",!0),r=R(t,"T"),c=o(t);e.data={featureMin:a,featureMax:r,maxDiff:c}});function o(n){let t=1/0,a=1/0,r=-1/0,c=-1/0;const l=v($).get("date"),u=_(n[0].weatherElement,"T","weather");n[0].weatherElement[u].time.forEach(w=>{v(w.dataTime).get("date")===l?(t=Math.min(t,Number(w.elementValue[0].value)),r=Math.max(r,Number(w.elementValue[0].value))):(a=Math.min(a,Number(w.elementValue[0].value)),c=Math.max(c,Number(w.elementValue[0].value)))});const h=r-t,g=c-a;return h>g?h:g}return(n,t)=>(d(),p(x,null,[i(e).data.featureMax?(d(),p("div",Z,[j,m("div",null,f(i(v)(i(e).data.featureMax.dataTime).format("YYYY-MM-DD")),1),m("div",null,f(i(e).data.featureMax.elementValue[0].value)+"\u5EA6",1)])):D("",!0),i(e).data.featureMin?(d(),p("div",ee,[te,m("div",null,f(i(v)(i(e).data.featureMin.dataTime).format("YYYY-MM-DD")),1),m("div",null,f(i(e).data.featureMin.elementValue[0].value)+"\u5EA6",1)])):D("",!0),i(e).data.maxDiff?(d(),p("div",ae,[ne,m("div",null,f(i(e).data.maxDiff)+"\u5EA6",1)])):D("",!0)],64))}},re={class:"max-w-screen-lg mx-auto px-5 py-10 space-y-6"},se=m("div",{class:"text-2xl px-5 font-semibold text-slate-700"}," JS\u8B80\u66F8\u6703\u671F\u672B\u8003 ",-1),ce={class:"bg-white text-black text-opacity-70 rounded-2xl shadow-xl p-8"},le={class:"flex"},ie=["onClick"],ue={class:"bg-gray-300 rounded-lg p-5 mb-10"},me={class:"bg-gray-300 rounded-lg h-auto p-5"},de={setup(s){const e=y({btnClick:0}),o=["\u5168\u53F0\u6700\u4F4E\u6EAB","\u6700\u4F4E\u6EAB\u6E2C\u7AD9","\u964D\u96E8\u91CF","\u672A\u4F86\u5169\u5929\u5929\u6C23\u9810\u5831"],n=[{id:1,question:"\u627E\u5230\u5168\u53F0\u7576\u4E0B\u6700\u4F4E\u6EAB\u7684\u9EDE\uFF0C\u4E26\u5217\u51FA \u7E23\u5E02 \u884C\u653F\u5340 \u6E2C\u7AD9\u540D\u7A31 \u6EAB\u5EA6 \u5EA7\u6A19",Comp:U},{id:2,question:"\u540C\u4E0A\uFF0C\u91DD\u5C0D\u4E0D\u540C\u6D77\u62D4\u9AD8\u5EA6\u627E\u51FA\u6700\u4F4E\u6EAB\u6E2C\u7AD9\uFF0C\u6BCF500m\u4E00\u7D44\uFF0C\u4E26\u56DE\u50B3 object",Comp:G},{id:3,question:"\u8FD124\u5C0F\u6642\u964D\u96E8\u91CF\u524D20\u540D\u662F\u54EA\u4E9B\uFF1F \u5206\u5225\u7D71\u8A08\u6574\u7406\u5217\u5728\u54EA\u4E9B\u7E23\u5E02\uFF1F",Comp:X},{id:4,question:"\u81EA\u5DF1\u6240\u5728\u7684\u7E23\u5E02\uFF0C\u672A\u4F86\u5169\u5929\u7684\u6700\u4F4E\u6EAB\u8207\u6700\u9AD8\u6EAB\u5206\u5225\u70BA\u591A\u5C11\uFF1F\u4E14\u6700\u5927\u55AE\u65E5\u6EAB\u5DEE\u70BA\u591A\u5C11\uFF1F",Comp:oe}];return(t,a)=>(d(),p("div",re,[se,m("div",ce,[m("template",le,[(d(),p(x,null,b(o,(r,c)=>m("div",{key:r,onClick:l=>i(e).btnClick=c,class:q([{"hover:bg-red-500":i(e).btnClick===c,"bg-red-500 text-white":i(e).btnClick===c},"bg-gray-100 text-gray-600","rounded-lg","w-36","mx-2 mb-10 py-2","text-center","space-x-10","hover:bg-gray-400","hover:text-white","cursor-pointer"])},f(r),11,ie)),64))]),m("div",ue," \u984C\u76EE "+f(n[i(e).btnClick].id)+" ."+f(n[i(e).btnClick].question),1),m("div",me,[(d(),L(P(n[i(e).btnClick].Comp)))])])]))}};F(de).mount("#app");
